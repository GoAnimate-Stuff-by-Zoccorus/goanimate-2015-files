var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(function(e,f){var a=20,c=1000,g=45,i=0.09,b={PAUSED:"paused",PLAYING:"playing",ENDED:"ended"},d=/Safari/,h=/Apple Computer/;var k=function(l){this.viewportElem=l;this.infoOverlayElem=l.find(".video-info");this.loadingIcon=l.find("#video-loading-icon");this.videoElem=l.find("#h5-player");this.controlElem=l.find("#player-control");this.videoDom=this.videoElem.get(0);this.videoLoaded=false;this.videoPlayStarted=false;this.encryptedVideoId=this.infoOverlayElem.find('input[name="encrypted-video-id"]').val();this.isVideoOwner=this.infoOverlayElem.find('input[name="is-owner"]').val();this.ownerId=this.infoOverlayElem.find('input[name="owner-id"]').val();this.initElements();this.initEventListeners()};k.prototype.initElements=function(){this.playbackButton=this.controlElem.find(".playback-button");this.seekBar=this.controlElem.find(".seek-bar");this.playedBar=this.seekBar.find(".played-bar");this.bufferedBar=this.seekBar.find(".buffered-bar");this.seekBarTooltip=this.seekBar.find(".time-tooltip");this.volumeControlElem=this.controlElem.find(".volume-control");this.volumeIcon=this.volumeControlElem.find(".volume-icon");this.volumeSlider=this.volumeControlElem.find(".volume-slider");this.volumeSliderThumb=this.volumeSlider.find(".slider-thumb");this.volumeSliderValueBar=this.volumeSlider.find(".slider-track .track-value-bar");this.fullScreenButton=this.controlElem.find(".fullscreen-button");this.controlElemFadingTimer=null;this.isFullScreen=false;this.volumeSliderWidth=this.volumeSlider.width();this.unmuteVolume=1;this.mouseDownOnSeekBar=false;this.mouseDownOnVolumeSlider=false;this.pausedBeforeMouseDownOnSeekBar=true};k.prototype.initEventListeners=function(){var l=this;this.contextMenuElem=e("#context-menu");this.contextMenuElem.bind("contextmenu",function(m){m.preventDefault();l.closeContextMenu()});this.contextMenuElem.find(".click-disabler").bind("mousedown click contextmenu",function(m){m.preventDefault();l.closeContextMenu()});this.contextMenuElem.find("[data-player-action]").bind("click",function(m){l.closeContextMenu();switch(e(this).data("playerAction")){case"play":l.playbackHandler();break;case"copyUrl":l.copyToClipboard(videoCopyableUrl,m);break;case"copyEmbedCode":l.copyToClipboard(e("#embed_code_field").val(),m);break}});this.viewportElem.bind("contextmenu",function(m){l.contextMenuHandler(m)});e(document).bind("scroll",function(m){if(l.contextMenuOpening===true){m.preventDefault();l.closeContextMenu()}});this.viewportElem.bind("mouseover",function(m){if(l.videoPlayStarted){l.showControlBar()}});this.viewportElem.bind("mouseout",function(m){if(l.videoPlayStarted){l.hideControlBarTimeout()}});this.videoElem.bind("loadeddata",function(){l.videoLoaded=true});this.videoElem.bind("ended",function(){l.setPlaybackButtonState(b.ENDED);l.infoOverlayElem.show();if(l.infoOverlayElemBackground){l.infoOverlayElem.css("background-image",l.infoOverlayElemBackground)}});this.videoElem.bind("pause",function(){l.setPlaybackButtonState(b.PAUSED)});this.videoElem.bind("play",function(){l.setPlaybackButtonState(b.PLAYING);l.infoOverlayElem.hide();l.infoOverlayElemBackground=l.infoOverlayElem.css("background-image");l.infoOverlayElem.css("background-image","none");l.videoPlayStarted=true});this.videoElem.bind("playing",function(){l.loadingIcon.hide()});this.videoElem.bind("waiting",function(){l.loadingIcon.show()});h5PlayerElem=this.videoElem;this.volumeSlider.bind("mousedown",function(){l.mouseDownOnVolumeSlider=true});e(document).bind("mouseup",function(){if(l.mouseDownOnSeekBar&&!l.pausedBeforeMouseDownOnSeekBar){l.videoDom.play();amplitudeTrackEvent(AMPLITUDE_EVENT.PLAYS_VIDEO,{movie:l.encryptedVideoId,Referral:document.referrer,Owner:l.isVideoOwner,OwnerID:l.ownerId})}l.mouseDownOnSeekBar=false;l.mouseDownOnVolumeSlider=false});this.volumeIcon.bind("click",function(n){if(l.videoDom.volume===0){l.videoDom.volume=l.unmuteVolume;l.volumeControlElem.removeClass("muted")}else{l.unmuteVolume=l.videoDom.volume;l.videoDom.volume=0;l.volumeControlElem.addClass("muted")}var m=(l.videoDom.volume*100)+"%";l.volumeSliderThumb.css("left",m);l.volumeSliderValueBar.css("width",m)});this.volumeSlider.bind("click mousemove",function(p){if((p.type==="click")||l.mouseDownOnVolumeSlider){var m=e(this).offset();var n=p.pageX-m.left;if(n<=0){n=0;l.volumeControlElem.addClass("muted")}else{if(n>l.volumeSliderWidth){n=l.volumeSliderWidth;l.volumeControlElem.removeClass("muted")}else{l.volumeControlElem.removeClass("muted")}}l.volumeSliderThumb.css("left",n);l.volumeSliderValueBar.css("width",n);var o=n/l.volumeSliderWidth;l.videoDom.volume=o}});setInterval(function(){if(l.videoDom.buffered.length!==0){l.bufferedBar.width(l.videoDom.buffered.end(0)/l.videoDom.duration*l.seekBar.width())}if(!l.videoLoaded){return}l.playedBar.width(l.videoDom.currentTime/l.videoDom.duration*l.seekBar.width())},a);setInterval(function(){if(!l.videoDom.paused&&(l.videoDom.currentTime<i)&&(l.videoDom.duration>i)){setTimeout(function(){if(!l.videoDom.paused&&(l.videoDom.currentTime<i)){try{l.videoDom.currentTime=i}catch(m){}}},i*1000)}},g);this.seekBar.bind("mousedown mouseover mousemove",function(q){if(q.type==="mousedown"){l.pausedBeforeMouseDownOnSeekBar=l.videoDom.paused;l.videoDom.pause();l.mouseDownOnSeekBar=true}var n=e(this).offset();var p=q.pageX-n.left;var m=l.seekBar.width();l.seekBarTooltip.css("left",p);var o=p/m*l.videoDom.duration;if(o<0){o=0}else{if(o>l.videoDom.duration){o=l.videoDom.duration}}l.seekBarTooltip.text(l.formatTime(o)+" / "+l.formatTime(l.videoDom.duration));if(l.mouseDownOnSeekBar){l.playedBar.width(p);l.videoDom.currentTime=p/l.seekBar.width()*l.videoDom.duration}});this.playbackButton.bind("click",function(){l.playbackHandler()});this.fullScreenButton.bind("click",function(){l.fullScreenHandler()});e(document).keydown(function(n){if(isUsingLegacyPlayer()){return}var m=n.target.tagName.toLowerCase();if((m==="input")||(m==="textarea")){return}if(l.isFullScreen||!l.videoDom.paused){switch(n.keyCode){case 20:l.exitFullScreenHandler();break;case 32:case 75:n.preventDefault();l.playbackHandler();break;case 37:n.preventDefault();l.backwardHandler();break;case 39:n.preventDefault();l.forwardHandler();break;case 70:n.preventDefault();l.fullScreenHandler()}}else{if(n.keyCode===75){n.preventDefault();l.playbackHandler()}}})};k.prototype.playbackHandler=function(){var l=this;if(this.videoDom.paused){this.videoDom.play();amplitudeTrackEvent(AMPLITUDE_EVENT.PLAYS_VIDEO,{movie:l.encryptedVideoId,Referral:document.referrer,Owner:l.isVideoOwner,OwnerID:l.ownerId})}else{this.videoDom.pause()}};k.prototype.pause=function(){if(this.videoDom&&!this.videoDom.paused){this.videoDom.pause()}};k.prototype.exitFullScreenHandler=function(){if(document.exitFullScreen){document.exitFullScreen()}else{if(document.msExitFullscreen){document.msExitFullscreen()}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{if(document.webkitExitFullscreen){document.webkitExitFullscreen()}}}}this.isFullScreen=false};k.prototype.fullScreenHandler=function(){if(this.isFullScreen){this.exitFullScreenHandler()}else{var l=this,m=this.viewportElem.find(".embed-responsive").get(0);if(m.requestFullscreen){m.requestFullscreen()}else{if(m.msRequestFullscreen){m.msRequestFullscreen()}else{if(m.mozRequestFullScreen){m.mozRequestFullScreen()}else{if(m.webkitRequestFullscreen){m.webkitRequestFullscreen()}}}}this.isFullScreen=true;amplitudeTrackEvent(AMPLITUDE_EVENT.TOGGLE_FULLSCREEN,{movie:l.encryptedVideoId})}};k.prototype.backwardHandler=function(){this.videoDom.currentTime=Math.max(0,this.videoDom.currentTime-5)};k.prototype.forwardHandler=function(){this.videoDom.currentTime=Math.min(this.videoDom.currentTime+5,this.videoDom.duration)};k.prototype.contextMenuHandler=function(o){var l=o.target.tagName.toLowerCase();if((l==="input")||(l==="textarea")){return}o.preventDefault();this.contextMenuOpening=true;var n=o.clientX,m=o.clientY;if((d.test(navigator.userAgent))&&(h.test(navigator.vendor))){this.contextMenuElem.find('[data-player-action="copyUrl"], [data-player-action="copyEmbedCode"]').addClass("hidden")}this.contextMenuElem.css("top",m).css("left",n).removeClass("hidden")};k.prototype.closeContextMenu=function(){this.contextMenuElem.addClass("hidden");this.contextMenuOpening=false};k.prototype.copyToClipboard=function(p,o){var n=document.createElement("textarea");n.style.position="absolute";n.style.left="-9999px";if(o!==undefined){n.style.top=o.pageY+"px"}else{n.style.top="0"}document.body.appendChild(n);n.textContent=p;var q=document.activeElement;n.focus();n.setSelectionRange(0,n.value.length);var m;try{m=document.execCommand("copy")}catch(l){m=false}if(q&&(typeof q.focus==="function")){q.focus()}return m};k.prototype.formatTime=function(n){if(isNaN(n)){return"00:00"}var l=Math.floor(n/60),m=Math.floor(n%60);if(l<10){l="0"+l}if(m<10){m="0"+m}return l+":"+m};k.prototype.hideControlBarTimeout=function(){var l=this;f.clearTimeout(this.controlElemFadingTimer);this.controlElemFadingTimer=f.setTimeout(function(){l.controlElem.css("opacity","0");l.controlElem.css("visibility","hidden")},c)};k.prototype.showControlBar=function(){f.clearTimeout(this.controlElemFadingTimer);this.controlElem.css("opacity","1");this.controlElem.css("visibility","visible")};k.prototype.setPlaybackButtonState=function(l){this.playbackButton.removeClass(b.PAUSED);this.playbackButton.removeClass(b.PLAYING);this.playbackButton.removeClass(b.ENDED);this.playbackButton.addClass(l)};var j=new k(e(".video-player-viewport"));e(".video-player-viewport").data("h5VideoControl",j)})(jQuery,window);

}
/*
     FILE ARCHIVED ON 16:19:23 Apr 15, 2016 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 03:31:25 Jun 01, 2021.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 154.942
  exclusion.robots: 0.23
  exclusion.robots.policy: 0.224
  RedisCDXSource: 4.214
  esindex: 0.01
  LoadShardBlock: 131.275 (3)
  PetaboxLoader3.datanode: 103.019 (4)
  CDXLines.iter: 16.871 (3)
  load_resource: 137.796
  PetaboxLoader3.resolve: 64.604
*/
